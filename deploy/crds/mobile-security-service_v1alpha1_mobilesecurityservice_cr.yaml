# This CR defines the specs of the Mobile Security Service which will be installed/managed by the Operator
apiVersion: mobile-security-service.aerogear.com/v1alpha1
kind: MobileSecurityService
metadata:
  name: mobile-security-service
spec:
  size: 1
  # It is the image:tag used to create the mobile security service deployment
  image: "aerogear/mobile-security-service:master"
  containerName: "application"
  # The following properties will define the resources for the Mobile Security Service App deployment
  memoryLimit: "512Mi"
  memoryRequest: "512Mi"
  # The clusterProtocol is required and used to generated the Public Host URL
  clusterProtocol: "http" # Options [http or https]
  # The following values are used to create the ConfigMap and the Environment Variables which will use these values
  # These values are used for both the Mobile Security Service and its Database
  databaseName: "mobile_security_service"
  databasePassword: "postgres"
  databaseUser: "postgresql"
  databaseHost: "mobile-security-service-db"
  port: 3000
  oAuthPort: 4180
  logLevel: "info"
  logFormat: "json"
  accessControlAllowOrigin: "*"
  accessControlAllowCredentials: "false"
  # The configMapName define the configMap which should be created and used in order to
  # get the values of the Env Variables created by the Mobile Security Service controller.
  # NOTE:
  #    If this ConfigMap be not found the default values defined above will be used directly instead of.
  #    If the name be not specified then it will be the Mobile Security Service instance name.
  #    The DB will looking for this ConfigMap to get the Env Values variables
  configMapName: "mobile-security-service-config"
  routeName: "route"
