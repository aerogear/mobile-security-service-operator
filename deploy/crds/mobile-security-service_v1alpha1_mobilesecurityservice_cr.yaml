# This CR defines the specs of the Mobile Security Service which will be installed/managed by the Operator
apiVersion: mobile-security-service.aerogear.org/v1alpha1
kind: MobileSecurityService
metadata:
  name: mobile-security-service
spec:

  # NOTE: Default values are applied by the operator if values are not specified below.

  # ---------------------------------
  # Service Resources
  # ---------------------------------

  size: 1
  # The clusterProtocol is required and used to generated the Public Host URL
  clusterProtocol: "https" # Options [http or https]
  configMapName: "mobile-security-service-config"
  routeName: "route"

  # ---------------------------------
  # Environment Variables
  # ---------------------------------

  # The following values are used to create the ConfigMap and the Environment Variables which will use these values
  # These values are used for both the Mobile Security Service and its Database
  databaseName: "mobile_security_service"
  databasePassword: "postgres"
  databaseUser: "postgresql"
  databaseHost: "mobile-security-service-db"
  port: 3000
  logLevel: "info"
  logFormat: "json"
  accessControlAllowOrigin: "*"
  accessControlAllowCredentials: "false"

  # ---------------------------------
  # Service Container
  # ---------------------------------

  image: "quay.io/aerogear/mobile-security-service:0.2.2"
  containerName: "application"
  memoryLimit: "128Mi"
  memoryRequest: "64Mi"
  resourceCpuLimit: "20m"
  resourceCpu: "10m"
  # Use the following spec if you would like to define the image pull policy
  # containerImagePullPolicy: "IfNotPresent"

  # ---------------------------------
  # OAuth Proxy
  # ---------------------------------

  oAuthImage: "quay.io/openshift/origin-oauth-proxy:4.2.0"
  oAuthContainerName: "oauth-proxy"
  oAuthMemoryLimit: "64Mi"
  oAuthMemoryRequest: "32Mi"
  oAuthResourceCpuLimit: "20m"
  oAuthResourceCpu: "10m"

  # Use the following spec if you would like to define the image policy
  # oAuthContainerImagePullPolicy: "IfNotPresent"



